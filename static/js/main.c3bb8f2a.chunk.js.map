{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["App","props","handleResize","setState","w","window","innerWidth","h","innerHeight","aspect","camera","THREE","frustumSize","position","set","lookAt","renderer","setPixelRatio","devicePixelRatio","setSize","handleKey","e","keyCode","pause","hide","center","playing","state","requestAnimationFrame","animate","showing","doFade","i","planets","length","j","upV","geos","translate","light","render","scene","tStep","p1Index","p2Index","p1","p2","dv1x","G","Math","pow","cos","atan2","dv1z","sin","dv2x","dv2z","timeDistortion","bind","push","background","antialias","Infinity","amb","add","mats","meshes","color","shading","castShadow","this","mount","appendChild","domElement","addEventListener","removeEventListener","ref","Title","TitleText","Variables","Counter","f","round","Tips","Component","Fade","keyframes","styled","div","h1","h2","p","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c3bb8f2a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport * as THREE from 'three';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      w: window.innerWidth,\n      h: window.innerHeight,\n      playing: true,\n      showing: true,\n      tStep: 0,\n      doFade: true,\n      center: 0,\n      timeDistortion: 1 / 1000000,\n    }\n\n    this.handleResize = this.handleResize.bind(this);\n    this.handleKey = this.handleKey.bind(this);\n\n    this.planets = [];\n    this.G = 6.67e-11 / Math.pow(60 * this.state.timeDistortion, 2);\n\n    this.planets.push([0, 0, 40 * 723187500, 1.989e30, 0, 0, 0xffffb8]); // x, z, r, m , vx, vz, color\n    this.planets.push([-46034000000,  0, 3 * 723187500, 3.285e23, 0, Math.pow(this.G * this.planets[0][3] / 46034000000, 0.5), 0xe8e8e8]);\n    this.planets.push([-107920000000, 0, 5.5 * 723187500, 4.867e24, 0, Math.pow(this.G * this.planets[0][3] / 107920000000, 0.5), 0xffc859]);\n    this.planets.push([-147680000000, 0, 10 * 723187500, 5.972e24, 0, Math.pow(this.G * this.planets[0][3] / 147680000000, 0.5), 0x3679e3]);\n    this.planets.push([-231420000000, 0, 8 * 723187500, 6.39e23, 0, Math.pow(this.G * this.planets[0][3] / 231420000000, 0.5), 0xa83225]);\n\n    var frustumSize = 350000000000;\n    var aspect = window.innerWidth / window.innerHeight;\n    this.camera = new THREE.OrthographicCamera( frustumSize * aspect / -2, frustumSize * aspect / 2, frustumSize / 2, frustumSize / - 2, -880796875000, 723187500000 );\n    this.camera.position.set( 0, 2, -5 );\n    this.camera.lookAt(0, 0, 0);\n\n    this.scene = new THREE.Scene();\n\t\tthis.scene.background = new THREE.Color( 0x220436 );\n\n    //var axesHelper = new THREE.AxesHelper( 5 );\n    //scene.add( axesHelper );\n\n    this.renderer = new THREE.WebGLRenderer( { antialias: true } );\n    this.renderer.setPixelRatio( window.devicePixelRatio );\n\t\tthis.renderer.setSize( window.innerWidth, window.innerHeight );\n\n    this.light = new THREE.PointLight( 0xffffb8, 0.7, Infinity );\n    this.light.position.set( 0, 0, 0 );\n\n    var amb = new THREE.AmbientLight( 0xf9faed, 0.6 ); // soft white light\n    this.scene.add( amb );\n\n    this.scene.add( this.light );\n\n    this.geos = [];\n    var mats = [];\n    var meshes = [];\n    this.geos.push(new THREE.SphereGeometry( this.planets[0][2], 30, 30 ));\n    mats.push(new THREE.MeshBasicMaterial({ color: this.planets[0][6] }));\n    meshes.push(new THREE.Mesh( this.geos[0], mats[0] ));\n    this.scene.add( meshes[0] )\n    for (var i = 1; i < this.planets.length; i++) {\n      this.geos.push(new THREE.SphereGeometry( this.planets[i][2], 30, 30 ));\n      this.geos[i].translate( this.planets[i][0], 0, this.planets[i][1] );\n      mats.push(new THREE.MeshLambertMaterial({ color: this.planets[i][6], shading: THREE.FlatShading }));\n      meshes.push(new THREE.Mesh( this.geos[i], mats[i] ));\n      meshes[i].castShadow = true;\n      this.scene.add( meshes[i] )\n    }\n  }\n\n  componentDidMount() {\n    this.mount.appendChild( this.renderer.domElement );\n    this.animate();\n\n    window.addEventListener('resize', this.handleResize);\n    window.addEventListener('keydown', this.handleKey, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('keydown', this.handleKey, false);\n  }\n\n  handleResize = () => {\n    this.setState({ w: window.innerWidth });\n    this.setState({ h: window.innerHeight });\n\n    var frustumSize = 350000000000;\n    var aspect = window.innerWidth / window.innerHeight;\n    this.camera = new THREE.OrthographicCamera( frustumSize * aspect / -2, frustumSize * aspect / 2, frustumSize / 2, frustumSize / - 2, -880796875000, 723187500000 );\n    this.camera.position.set( 0, 2, -5 );\n    this.camera.lookAt(0, 0, 0);\n\n\n    this.renderer.setPixelRatio( window.devicePixelRatio );\n\t\tthis.renderer.setSize( window.innerWidth, window.innerHeight );\n  }\n\n  handleKey = (e) => {\n    if (e.keyCode === 32) {\n      this.pause();\n    } else if (e.keyCode === 72) {\n      this.hide();\n    } else if (e.keyCode === 48) {\n      this.setState({ center: 0 });\n    } else if (e.keyCode === 49) {\n      this.setState({ center: 1 });\n    } else if (e.keyCode === 50) {\n      this.setState({ center: 2 });\n    } else if (e.keyCode === 51) {\n      this.setState({ center: 3 });\n    } else if (e.keyCode === 52) {\n      this.setState({ center: 4 });\n    }\n  }\n\n  pause = () => {\n    this.setState({ playing: !this.state.playing });\n    requestAnimationFrame( this.animate );\n  }\n\n  hide = () => {\n    this.setState({ showing: !this.state.showing });\n    this.setState({ doFade: false });\n  }\n\n  animate = () => {\n    if (this.state.playing) {\n      for (var i = 0; i < this.planets.length; i++) {\n        for (var j = i + 1; j < this.planets.length; j++) {\n          this.upV(i, j);\n        }\n        this.geos[i].translate( this.planets[i][4], 0, this.planets[i][5] );\n        this.planets[i][0] += this.planets[i][4];\n        this.planets[i][1] += this.planets[i][5];\n      }\n\n      //camera.translateZ(this.planets[0][5]);\n      this.camera.position.set( this.planets[this.state.center][0], 130, this.planets[this.state.center][1] + 300);\n      this.light.position.set( this.planets[0][0], 0, this.planets[0][1] );\n\n      requestAnimationFrame( this.animate );\n      this.renderer.render( this.scene, this.camera );\n      this.setState({ tStep: this.state.tStep + 1 });\n    }\n  }\n\n  upV = (p1Index, p2Index) => {\n    var p1 = this.planets[p1Index];\n    var p2 = this.planets[p2Index];\n    var dv1x = this.G * (p2[3] / (Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2))) * Math.cos(Math.atan2(p2[1] - p1[1], p2[0] - p1[0]));\n    var dv1z = this.G * (p2[3] / (Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2))) * Math.sin(Math.atan2(p2[1] - p1[1], p2[0] - p1[0]));\n    var dv2x = this.G * (p1[3] / (Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2))) * Math.cos(Math.atan2(p1[1] - p2[1], p1[0] - p2[0]));\n    var dv2z = this.G * (p1[3] / (Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2))) * Math.sin(Math.atan2(p1[1] - p2[1], p1[0] - p2[0]));\n\n    this.planets[p1Index][4] += dv1x;\n    this.planets[p1Index][5] += dv1z;\n    this.planets[p2Index][4] += dv2x;\n    this.planets[p2Index][5] += dv2z;\n  }\n\n  render() {\n    return (\n      <div>\n        <div ref={ref => (this.mount = ref)} />\n        <Title>\n          <TitleText>\n            The Planetarium\n          </TitleText>\n        </Title>\n        {this.state.showing &&\n          <Variables>\n              <Counter f={this.state.doFade}>\n                Variables:\n              </Counter>\n              <Counter f={this.state.doFade}>\n                t = {Math.round((this.state.tStep / (60 * this.state.timeDistortion))/1000)*1000} s\n              </Counter>\n              <Counter f={this.state.doFade}>\n                x<sub>sun</sub> = {Math.round(this.planets[0][0] - this.planets[this.state.center][0])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                z<sub>sun</sub> = {Math.round(this.planets[0][1] - this.planets[this.state.center][1])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                x<sub>mercury</sub> = {Math.round(this.planets[1][0] - this.planets[this.state.center][0])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                z<sub>mercury</sub> = {Math.round(this.planets[1][1] - this.planets[this.state.center][1])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                x<sub>venus</sub> = {Math.round(this.planets[2][0] - this.planets[this.state.center][0])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                z<sub>venus</sub> = {Math.round(this.planets[2][1] - this.planets[this.state.center][1])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                x<sub>earth</sub> = {Math.round(this.planets[3][0] - this.planets[this.state.center][0])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                z<sub>earth</sub> = {Math.round(this.planets[3][1] - this.planets[this.state.center][1])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                x<sub>mars</sub> = {Math.round(this.planets[4][0] - this.planets[this.state.center][0])} m\n              </Counter>\n              <Counter f={this.state.doFade}>\n                z<sub>mars</sub> = {Math.round(this.planets[4][1] - this.planets[this.state.center][1])} m\n              </Counter>\n            <Tips f={this.state.doFade}>\n              <br/>Press SPACE to pause<br/>Press 0~4 to change the center of the solar system<br/>Press h to hide clutter\n            </Tips>\n          </Variables>\n        }\n      </div>\n    )\n  }\n}\n\nexport default App;\n\nconst Fade = keyframes`\n  0% { color: #ebebeb00; }\n  40% { color: #ebebeb00; }\n  100% { color: #ebebebbb; }\n`;\n\nconst Title = styled.div`\n  position: absolute;\n  top: 20px;\n  width: 100%;\n  text-align: center;\n  z-index: 100;\n  display: block;\n  font-weight: 300;\n`;\n\nconst TitleText = styled.h1`\n  color: #ebebeb;\n  font-style: italic;\n  font-size: 36px;\n  font-family: 'Sulphur Point', sans-serif;\n  font-weight: 300;\n  animation: ${Fade} 2s linear 1;\n`;\n\nconst Variables = styled.div`\n  position: absolute;\n  bottom: 14px;\n  left: 35px;\n  z-index: 100;\n  display: block;\n  font-weight: 300;\n`;\n\nconst Counter = styled.h2`\n  color: #ebebebbb;\n  font-style: italic;\n  font-size: 16px;\n  font-family: 'Sulphur Point', sans-serif;\n  font-weight: 300;\n  animation: ${Fade} 2s linear ${props => (props.f === false) ? 0 : 1};\n  line-height: 16px;\n`;\n\nconst Tips = styled.p`\n  color: #ebebebbb;\n  font-style: italic;\n  font-size: 10px;\n  font-family: 'Sulphur Point', sans-serif;\n  margin-top: -10px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: 400;\n  animation: ${Fade} 2s linear ${props => (props.f === false) ? 0 : 1};\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}