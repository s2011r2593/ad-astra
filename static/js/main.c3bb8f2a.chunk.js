(this["webpackJsonpad-astra"]=this["webpackJsonpad-astra"]||[]).push([[0],{18:function(e,t,n){e.exports=n(26)},23:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(12),o=n.n(i),r=(n(23),n(3)),l=n(5),h=n(13),c=n(8),d=n(6),u=n(2),p=n(7),m=n(4),w=n(1);function f(){var e=Object(r.a)(["\n  color: #ebebebbb;\n  font-style: italic;\n  font-size: 10px;\n  font-family: 'Sulphur Point', sans-serif;\n  margin-top: -10px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: 400;\n  animation: "," 2s linear ",";\n"]);return f=function(){return e},e}function b(){var e=Object(r.a)(["\n  color: #ebebebbb;\n  font-style: italic;\n  font-size: 16px;\n  font-family: 'Sulphur Point', sans-serif;\n  font-weight: 300;\n  animation: "," 2s linear ",";\n  line-height: 16px;\n"]);return b=function(){return e},e}function g(){var e=Object(r.a)(["\n  position: absolute;\n  bottom: 14px;\n  left: 35px;\n  z-index: 100;\n  display: block;\n  font-weight: 300;\n"]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n  color: #ebebeb;\n  font-style: italic;\n  font-size: 36px;\n  font-family: 'Sulphur Point', sans-serif;\n  font-weight: 300;\n  animation: "," 2s linear 1;\n"]);return v=function(){return e},e}function E(){var e=Object(r.a)(["\n  position: absolute;\n  top: 20px;\n  width: 100%;\n  text-align: center;\n  z-index: 100;\n  display: block;\n  font-weight: 300;\n"]);return E=function(){return e},e}function y(){var e=Object(r.a)(["\n  0% { color: #ebebeb00; }\n  40% { color: #ebebeb00; }\n  100% { color: #ebebebbb; }\n"]);return y=function(){return e},e}var M=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleResize=function(){n.setState({w:window.innerWidth}),n.setState({h:window.innerHeight});var e=window.innerWidth/window.innerHeight;n.camera=new w.g(35e10*e/-2,35e10*e/2,175e9,-175e9,-880796875e3,7231875e5),n.camera.position.set(0,2,-5),n.camera.lookAt(0,0,0),n.renderer.setPixelRatio(window.devicePixelRatio),n.renderer.setSize(window.innerWidth,window.innerHeight)},n.handleKey=function(e){32===e.keyCode?n.pause():72===e.keyCode?n.hide():48===e.keyCode?n.setState({center:0}):49===e.keyCode?n.setState({center:1}):50===e.keyCode?n.setState({center:2}):51===e.keyCode?n.setState({center:3}):52===e.keyCode&&n.setState({center:4})},n.pause=function(){n.setState({playing:!n.state.playing}),requestAnimationFrame(n.animate)},n.hide=function(){n.setState({showing:!n.state.showing}),n.setState({doFade:!1})},n.animate=function(){if(n.state.playing){for(var e=0;e<n.planets.length;e++){for(var t=e+1;t<n.planets.length;t++)n.upV(e,t);n.geos[e].translate(n.planets[e][4],0,n.planets[e][5]),n.planets[e][0]+=n.planets[e][4],n.planets[e][1]+=n.planets[e][5]}n.camera.position.set(n.planets[n.state.center][0],130,n.planets[n.state.center][1]+300),n.light.position.set(n.planets[0][0],0,n.planets[0][1]),requestAnimationFrame(n.animate),n.renderer.render(n.scene,n.camera),n.setState({tStep:n.state.tStep+1})}},n.upV=function(e,t){var a=n.planets[e],s=n.planets[t],i=n.G*(s[3]/(Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)))*Math.cos(Math.atan2(s[1]-a[1],s[0]-a[0])),o=n.G*(s[3]/(Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)))*Math.sin(Math.atan2(s[1]-a[1],s[0]-a[0])),r=n.G*(a[3]/(Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)))*Math.cos(Math.atan2(a[1]-s[1],a[0]-s[0])),l=n.G*(a[3]/(Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)))*Math.sin(Math.atan2(a[1]-s[1],a[0]-s[0]));n.planets[e][4]+=i,n.planets[e][5]+=o,n.planets[t][4]+=r,n.planets[t][5]+=l},n.state={w:window.innerWidth,h:window.innerHeight,playing:!0,showing:!0,tStep:0,doFade:!0,center:0,timeDistortion:1e-6},n.handleResize=n.handleResize.bind(Object(u.a)(n)),n.handleKey=n.handleKey.bind(Object(u.a)(n)),n.planets=[],n.G=667e-13/Math.pow(60*n.state.timeDistortion,2),n.planets.push([0,0,289275e5,1.989e30,0,0,16777144]),n.planets.push([-46034e6,0,2169562500,3285e20,0,Math.pow(n.G*n.planets[0][3]/46034e6,.5),15263976]),n.planets.push([-10792e7,0,3977531250,4867e21,0,Math.pow(n.G*n.planets[0][3]/10792e7,.5),16762969]),n.planets.push([-14768e7,0,7231875e3,5972e21,0,Math.pow(n.G*n.planets[0][3]/14768e7,.5),3570147]),n.planets.push([-23142e7,0,57855e5,639e21,0,Math.pow(n.G*n.planets[0][3]/23142e7,.5),11022885]);var a=window.innerWidth/window.innerHeight;n.camera=new w.g(35e10*a/-2,35e10*a/2,175e9,-175e9,-880796875e3,7231875e5),n.camera.position.set(0,2,-5),n.camera.lookAt(0,0,0),n.scene=new w.i,n.scene.background=new w.b(2229302),n.renderer=new w.k({antialias:!0}),n.renderer.setPixelRatio(window.devicePixelRatio),n.renderer.setSize(window.innerWidth,window.innerHeight),n.light=new w.h(16777144,.7,1/0),n.light.position.set(0,0,0);var s=new w.a(16382701,.6);n.scene.add(s),n.scene.add(n.light),n.geos=[];var i=[],o=[];n.geos.push(new w.j(n.planets[0][2],30,30)),i.push(new w.e({color:n.planets[0][6]})),o.push(new w.d(n.geos[0],i[0])),n.scene.add(o[0]);for(var r=1;r<n.planets.length;r++)n.geos.push(new w.j(n.planets[r][2],30,30)),n.geos[r].translate(n.planets[r][0],0,n.planets[r][1]),i.push(new w.f({color:n.planets[r][6],shading:w.c})),o.push(new w.d(n.geos[r],i[r])),o[r].castShadow=!0,n.scene.add(o[r]);return n}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.mount.appendChild(this.renderer.domElement),this.animate(),window.addEventListener("resize",this.handleResize),window.addEventListener("keydown",this.handleKey,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.handleKey,!1)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{ref:function(t){return e.mount=t}}),s.a.createElement(x,null,s.a.createElement(S,null,"The Planetarium")),this.state.showing&&s.a.createElement(z,null,s.a.createElement(F,{f:this.state.doFade},"Variables:"),s.a.createElement(F,{f:this.state.doFade},"t = ",1e3*Math.round(this.state.tStep/(60*this.state.timeDistortion)/1e3)," s"),s.a.createElement(F,{f:this.state.doFade},"x",s.a.createElement("sub",null,"sun")," = ",Math.round(this.planets[0][0]-this.planets[this.state.center][0])," m"),s.a.createElement(F,{f:this.state.doFade},"z",s.a.createElement("sub",null,"sun")," = ",Math.round(this.planets[0][1]-this.planets[this.state.center][1])," m"),s.a.createElement(F,{f:this.state.doFade},"x",s.a.createElement("sub",null,"mercury")," = ",Math.round(this.planets[1][0]-this.planets[this.state.center][0])," m"),s.a.createElement(F,{f:this.state.doFade},"z",s.a.createElement("sub",null,"mercury")," = ",Math.round(this.planets[1][1]-this.planets[this.state.center][1])," m"),s.a.createElement(F,{f:this.state.doFade},"x",s.a.createElement("sub",null,"venus")," = ",Math.round(this.planets[2][0]-this.planets[this.state.center][0])," m"),s.a.createElement(F,{f:this.state.doFade},"z",s.a.createElement("sub",null,"venus")," = ",Math.round(this.planets[2][1]-this.planets[this.state.center][1])," m"),s.a.createElement(F,{f:this.state.doFade},"x",s.a.createElement("sub",null,"earth")," = ",Math.round(this.planets[3][0]-this.planets[this.state.center][0])," m"),s.a.createElement(F,{f:this.state.doFade},"z",s.a.createElement("sub",null,"earth")," = ",Math.round(this.planets[3][1]-this.planets[this.state.center][1])," m"),s.a.createElement(F,{f:this.state.doFade},"x",s.a.createElement("sub",null,"mars")," = ",Math.round(this.planets[4][0]-this.planets[this.state.center][0])," m"),s.a.createElement(F,{f:this.state.doFade},"z",s.a.createElement("sub",null,"mars")," = ",Math.round(this.planets[4][1]-this.planets[this.state.center][1])," m"),s.a.createElement(j,{f:this.state.doFade},s.a.createElement("br",null),"Press SPACE to pause",s.a.createElement("br",null),"Press 0~4 to change the center of the solar system",s.a.createElement("br",null),"Press h to hide clutter")))}}]),t}(a.Component),k=Object(m.b)(y()),x=m.a.div(E()),S=m.a.h1(v(),k),z=m.a.div(g()),F=m.a.h2(b(),k,(function(e){return!1===e.f?0:1})),j=m.a.p(f(),k,(function(e){return!1===e.f?0:1}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.c3bb8f2a.chunk.js.map